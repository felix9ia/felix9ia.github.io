(window.webpackJsonp=window.webpackJsonp||[]).push([[101],{605:function(a,t,_){"use strict";_.r(t);var v=_(1),r=Object(v.a)({},(function(){var a=this,t=a.$createElement,_=a._self._c||t;return _("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[_("h1",{attrs:{id:""}},[_("a",{staticClass:"header-anchor",attrs:{href:"#"}},[a._v("#")])]),a._v(" "),_("h1",{attrs:{id:"单元测试"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#单元测试"}},[a._v("#")]),a._v(" 单元测试")]),a._v(" "),_("p",[a._v("以 "),_("code",[a._v("Go")]),a._v(" 语言为实践对象")]),a._v(" "),_("h2",{attrs:{id:"参考"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),_("p",[a._v("《软件测试的艺术》\n《软件测试-第二版》")]),a._v(" "),_("p",[_("a",{attrs:{href:"https://www.coursera.org/learn/ruanjian-ceshi#syllabus",target:"_blank",rel:"noopener noreferrer"}},[a._v("coursera - 软件测试"),_("OutboundLink")],1)]),a._v(" "),_("h2",{attrs:{id:"todo"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#todo"}},[a._v("#")]),a._v(" TODO")]),a._v(" "),_("p",[_("a",{attrs:{href:"https://www.zhihu.com/question/397159494/answer/1308788520",target:"_blank",rel:"noopener noreferrer"}},[a._v("什么是打桩？"),_("OutboundLink")],1)]),a._v(" "),_("h2",{attrs:{id:"测试模式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#测试模式"}},[a._v("#")]),a._v(" 测试模式")]),a._v(" "),_("h2",{attrs:{id:"测试"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#测试"}},[a._v("#")]),a._v(" 测试")]),a._v(" "),_("p",[_("a",{attrs:{href:""}},[a._v("TDD")])]),a._v(" "),_("p",[_("a",{attrs:{href:""}},[a._v("BDD")]),a._v("，Behavior-Driven Development，行为测试框架，目前主流的有：")]),a._v(" "),_("ul",[_("li",[_("p",[_("a",{attrs:{href:"https://blog.gmem.cc/ginkgo-study-note",target:"_blank",rel:"noopener noreferrer"}},[a._v("Ginkgo"),_("OutboundLink")],1)]),a._v(" "),_("p",[a._v("相关的实践有 "),_("a",{attrs:{href:"https://github.com/dche423/dbtest.git",target:"_blank",rel:"noopener noreferrer"}},[a._v("dbtest"),_("OutboundLink")],1)])]),a._v(" "),_("li")]),a._v(" "),_("h2",{attrs:{id:"原则"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#原则"}},[a._v("#")]),a._v(" 原则")]),a._v(" "),_("p",[a._v("参考自 "),_("a",{attrs:{href:"https://mp.weixin.qq.com/s/JOVSkcC48qwoaByxUtgcFA",target:"_blank",rel:"noopener noreferrer"}},[a._v("你懂SOLID原则吗？"),_("OutboundLink")],1)]),a._v(" "),_("ul",[_("li",[a._v("单一职责原则")])]),a._v(" "),_("p",[a._v("一个方法只干一件事情。")]),a._v(" "),_("ul",[_("li",[a._v("开闭原则")]),a._v(" "),_("li",[a._v("里氏替换原则")])]),a._v(" "),_("p",[a._v("子类要与父类的行为保持一致")]),a._v(" "),_("ul",[_("li",[a._v("接口隔离原则")]),a._v(" "),_("li",[a._v("依赖倒置原则")])]),a._v(" "),_("h2",{attrs:{id:"黑盒测试"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#黑盒测试"}},[a._v("#")]),a._v(" 黑盒测试")]),a._v(" "),_("p",[a._v("黑盒测试如下")]),a._v(" "),_("h3",{attrs:{id:"参考-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#参考-2"}},[a._v("#")]),a._v(" 参考")]),a._v(" "),_("p",[_("a",{attrs:{href:"https://testerhome.com/topics/17554",target:"_blank",rel:"noopener noreferrer"}},[a._v("一个高效测试用例设计的解决方案！"),_("OutboundLink")],1)]),a._v(" "),_("p",[a._v("这里可以参考公众号")]),a._v(" "),_("ul",[_("li",[_("a",{attrs:{href:"https://zhuanlan.zhihu.com/p/75073232",target:"_blank",rel:"noopener noreferrer"}},[a._v("软件测试 BeTester"),_("OutboundLink")],1)]),a._v(" "),_("li",[_("a",{attrs:{href:"https://www.zhihu.com/column/c_1185258897522274304",target:"_blank",rel:"noopener noreferrer"}},[a._v("软件测试打怪升级"),_("OutboundLink")],1)])]),a._v(" "),_("p",[a._v("意味着不看代码就进行测试，主要的测试方法有：")]),a._v(" "),_("h3",{attrs:{id:"等价类划分设计"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#等价类划分设计"}},[a._v("#")]),a._v(" 等价类划分设计")]),a._v(" "),_("p",[a._v("就是把输入域的值分为若干的部分（选出一个代表来）")]),a._v(" "),_("h4",{attrs:{id:"分类"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#分类"}},[a._v("#")]),a._v(" 分类")]),a._v(" "),_("ul",[_("li",[_("p",[a._v("有效等价类")]),a._v(" "),_("p",[a._v("合理的、有意义的")])]),a._v(" "),_("li",[_("p",[a._v("无效等价类")]),a._v(" "),_("p",[a._v("没有意义的、不合理的")])])]),a._v(" "),_("h4",{attrs:{id:"等价划分方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#等价划分方法"}},[a._v("#")]),a._v(" 等价划分方法")]),a._v(" "),_("h5",{attrs:{id:"按区域划分"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#按区域划分"}},[a._v("#")]),a._v(" 按区域划分")]),a._v(" "),_("p",[a._v("比如学生成绩划分，有效值为[0，100]")]),a._v(" "),_("h5",{attrs:{id:"按数值-集-划分"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#按数值-集-划分"}},[a._v("#")]),a._v(" 按数值（集）划分")]),a._v(" "),_("p",[a._v("输入数据是离散的数据集，比如购买地铁票，输入的数值有：1元，5元，10元，20元。")]),a._v(" "),_("h5",{attrs:{id:"按限制条件或规则划分"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#按限制条件或规则划分"}},[a._v("#")]),a._v(" 按限制条件或规则划分")]),a._v(" "),_("p",[a._v("依赖产品规格要求或限制，使得我们只能在特定范围内进行输入。注册的时候输入手机号码，手机号码有相应的规则约束。否则非法")]),a._v(" "),_("h5",{attrs:{id:"等价类实例"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#等价类实例"}},[a._v("#")]),a._v(" 等价类实例")]),a._v(" "),_("ul",[_("li",[_("p",[a._v("微信红包")]),a._v(" "),_("p",[a._v("有效等价类： 0 < x <= 200")]),a._v(" "),_("p",[a._v("无效等价类：x<0 或者x>200")])]),a._v(" "),_("li",[_("p",[a._v("判断是否是一个一线城市")]),a._v(" "),_("p",[a._v("有效等价类：北京、上海、广州、深圳")]),a._v(" "),_("p",[a._v("无效等价类：北上广深除外")])])]),a._v(" "),_("h5",{attrs:{id:"注册邮箱-对用户名进行校验"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#注册邮箱-对用户名进行校验"}},[a._v("#")]),a._v(" 注册邮箱，对用户名进行校验")]),a._v(" "),_("p",[a._v("有各种的约束")]),a._v(" "),_("h3",{attrs:{id:"边界值设计"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#边界值设计"}},[a._v("#")]),a._v(" 边界值设计")]),a._v(" "),_("p",[a._v("通过对临界条件的测试分析方法。考试成绩只差“半分”，回到家却是一种天上和炼狱的待遇。")]),a._v(" "),_("h4",{attrs:{id:"概述"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#概述"}},[a._v("#")]),a._v(" 概述")]),a._v(" "),_("h5",{attrs:{id:"定义"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#定义"}},[a._v("#")]),a._v(" 定义")]),a._v(" "),_("p",[a._v("就是对输入或输出的边界值进行测试，作为等价划分法的补充，其测试用例来自"),_("strong",[a._v("等价类")]),a._v("的边界。")]),a._v(" "),_("h5",{attrs:{id:"等价类差异"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#等价类差异"}},[a._v("#")]),a._v(" 等价类差异")]),a._v(" "),_("ul",[_("li",[a._v("边界值测试不是从某一个等价类中随便挑一个作为代表，而是要覆盖该等价类的所有边界的测试条件")]),a._v(" "),_("li",[a._v("边界值测试不仅考虑输入条件，还要考虑输出结果产生的测试情况。比如：在高速收费站，其收费结果只有“找零”或“无需找零”。当遇到没有现金的司机会怎么样？这就是从输出结果的边界考虑的。")])]),a._v(" "),_("h4",{attrs:{id:"划分方法"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#划分方法"}},[a._v("#")]),a._v(" 划分方法")]),a._v(" "),_("h5",{attrs:{id:"数值型边界"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#数值型边界"}},[a._v("#")]),a._v(" 数值型边界")]),a._v(" "),_("ul",[_("li",[a._v("上点：边界上的点，闭内开外（闭指闭区间；开指开区间）")]),a._v(" "),_("li",[a._v("离点：离上点最近的点称为离点，开内闭外")]),a._v(" "),_("li",[a._v("内点：区间内的任意一点")])]),a._v(" "),_("p",[a._v("min-,min,min+,normal,max-,max,max+")]),a._v(" "),_("h5",{attrs:{id:"字符型边界"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#字符型边界"}},[a._v("#")]),a._v(" 字符型边界")]),a._v(" "),_("p",[a._v("可以转换为数值型边界，测试成绩，可以转换为的区间[0，100]进行边界测试分析")]),a._v(" "),_("p",[a._v("一个字符串，第一个字符和最后一个字符为边界。比如邮箱只能数字或者字母开头")]),a._v(" "),_("h5",{attrs:{id:"空间型边界"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#空间型边界"}},[a._v("#")]),a._v(" 空间型边界")]),a._v(" "),_("p",[a._v("物理空间或者位置，或者计算机的磁盘存储，所以就不是数值，而是一个结构体")]),a._v(" "),_("h5",{attrs:{id:"实例"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#实例"}},[a._v("#")]),a._v(" 实例")]),a._v(" "),_("ul",[_("li",[a._v("微信红包金额限制")]),a._v(" "),_("li",[a._v("邮箱长度限制")]),a._v(" "),_("li",[a._v("机场电子围栏（无人机）")])]),a._v(" "),_("h3",{attrs:{id:"正交设计"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#正交设计"}},[a._v("#")]),a._v(" 正交设计")]),a._v(" "),_("p",[a._v("多个因素的水平组合")]),a._v(" "),_("h4",{attrs:{id:"验证"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#验证"}},[a._v("#")]),a._v(" 验证")]),a._v(" "),_("ul",[_("li",[a._v("正交验证")]),a._v(" "),_("li",[a._v("配对验证")])]),a._v(" "),_("h4",{attrs:{id:"失效模式"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#失效模式"}},[a._v("#")]),a._v(" 失效模式")]),a._v(" "),_("ul",[_("li",[a._v("单失效")])]),a._v(" "),_("p",[a._v("由单个因素引起")]),a._v(" "),_("ul",[_("li",[a._v("双失效")])]),a._v(" "),_("p",[a._v("由两个因素引起，针对所有的参数进行两两组合")]),a._v(" "),_("ul",[_("li",[a._v("多失效")])]),a._v(" "),_("p",[a._v("有多个因素引起，通过两两组合进行测试，无法抱枕测试的充分性。")]),a._v(" "),_("h4",{attrs:{id:"概念"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[a._v("#")]),a._v(" 概念")]),a._v(" "),_("ul",[_("li",[a._v("因素")])]),a._v(" "),_("p",[a._v("在试验中，影响试验结果的变量")]),a._v(" "),_("ul",[_("li",[a._v("水平")])]),a._v(" "),_("p",[a._v("因素所处的状态")]),a._v(" "),_("ul",[_("li",[a._v("因素数")])]),a._v(" "),_("p",[a._v("在实验中，影响试验结果的变量个数")]),a._v(" "),_("ul",[_("li",[a._v("水平数")])]),a._v(" "),_("p",[a._v("因素所包含的状态集合数量")]),a._v(" "),_("h4",{attrs:{id:"特点"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#特点"}},[a._v("#")]),a._v(" 特点")]),a._v(" "),_("ul",[_("li",[a._v("分布均匀")])]),a._v(" "),_("p",[a._v("任一列中，任一因素的水平（状态）出现的次数相同")]),a._v(" "),_("ul",[_("li",[a._v("整齐可比")])]),a._v(" "),_("p",[a._v("任两列中，任意一个水平组合出现的次数相同")]),a._v(" "),_("h3",{attrs:{id:"状态迁移设计"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#状态迁移设计"}},[a._v("#")]),a._v(" 状态迁移设计")]),a._v(" "),_("p",[_("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzI2NDk1NTU4Ng==&mid=2247484675&idx=1&sn=2f4ec1165a40009785d6be7412cc2722&chksm=eaa5f6aeddd27fb89563be0589de400d0c0673f8abc45bddb96662bbff7c3af51d718cbfc761&token=866530587&lang=zh_CN#rd",target:"_blank",rel:"noopener noreferrer"}},[a._v("状态迁移测试"),_("OutboundLink")],1)]),a._v(" "),_("h4",{attrs:{id:"有限状态机"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#有限状态机"}},[a._v("#")]),a._v(" 有限状态机")]),a._v(" "),_("p",[a._v("有 3 个要素")]),a._v(" "),_("ul",[_("li",[_("p",[a._v("现态")]),a._v(" "),_("p",[a._v("当前所处的状态")])]),a._v(" "),_("li",[_("p",[a._v("条件")]),a._v(" "),_("p",[a._v("事件，当一个条件被满足后，触发一个动作，或者执行一次状态迁移")])]),a._v(" "),_("li",[_("p",[a._v("次态")]),a._v(" "),_("p",[a._v("条件满足后，要迁往的状态")])])]),a._v(" "),_("h4",{attrs:{id:"状态迁移"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#状态迁移"}},[a._v("#")]),a._v(" 状态迁移")]),a._v(" "),_("p",[a._v("把系统的状态抽象出来，对抽象的状态相互之间的切换条件和路径进行标记，形成有限状态机。")]),a._v(" "),_("blockquote",[_("p",[a._v("注意事项")]),a._v(" "),_("ol",[_("li",[a._v("不要把条件/事件和状态混为一谈")]),a._v(" "),_("li",[a._v("避免出现状态的遗漏")]),a._v(" "),_("li",[a._v("状态变化后可以回到原先状态")])])]),a._v(" "),_("h4",{attrs:{id:"状态迁移步骤"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#状态迁移步骤"}},[a._v("#")]),a._v(" 状态迁移步骤")]),a._v(" "),_("ol",[_("li",[a._v("根据被测对象的需求提取状态")]),a._v(" "),_("li",[a._v("绘制状态迁移图")]),a._v(" "),_("li",[a._v("确定测试强度，转换成状态树")]),a._v(" "),_("li",[a._v("选择测试数据，设计测试用例")])]),a._v(" "),_("h4",{attrs:{id:"n-switch"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#n-switch"}},[a._v("#")]),a._v(" N Switch")]),a._v(" "),_("p",[a._v("根据资源的投入来选择 switch 的强度")]),a._v(" "),_("h3",{attrs:{id:"判定表设计"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#判定表设计"}},[a._v("#")]),a._v(" 判定表设计")]),a._v(" "),_("p",[_("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzI2NDk1NTU4Ng==&mid=2247484646&idx=2&sn=32d78e42548285ad1aeb8ac4259538fd&chksm=eaa5f74bddd27e5d83e99501becfb19b20d3a110d79f8b1b2c33c39c343a00f8876d28cd528a&token=2135977015&lang=zh_CN#rd",target:"_blank",rel:"noopener noreferrer"}},[a._v("判定表"),_("OutboundLink")],1)]),a._v(" "),_("h4",{attrs:{id:"_1-什么是"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_1-什么是"}},[a._v("#")]),a._v(" 1. 什么是？")]),a._v(" "),_("p",[a._v("也可以称之为：决策表，把复杂的逻辑关系和多种条件组合的情况表达得具体明确")]),a._v(" "),_("h4",{attrs:{id:"_2-组成元素"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_2-组成元素"}},[a._v("#")]),a._v(" 2. 组成元素")]),a._v(" "),_("ul",[_("li",[_("p",[a._v("条件桩")]),a._v(" "),_("p",[a._v("被测对象的所有输入")])]),a._v(" "),_("li",[_("p",[a._v("条件项")]),a._v(" "),_("p",[a._v("被测对象的输入取值")])]),a._v(" "),_("li",[_("p",[a._v("动作桩")]),a._v(" "),_("p",[a._v("被测对象可能采取的操作/表现")])]),a._v(" "),_("li",[_("p",[a._v("动作项")]),a._v(" "),_("p",[a._v("在各个条件项的组合下，被测对象所采取的动作/表现")])])]),a._v(" "),_("p",[a._v("思想品质、身体、学习对应的条件状")]),a._v(" "),_("p",[a._v("成为三好学生和没成为三号学生便是动作桩")]),a._v(" "),_("h4",{attrs:{id:"_3-判定表的优缺点及适用范围"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#_3-判定表的优缺点及适用范围"}},[a._v("#")]),a._v(" 3. 判定表的优缺点及适用范围")]),a._v(" "),_("h3",{attrs:{id:"因果图"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#因果图"}},[a._v("#")]),a._v(" 因果图")]),a._v(" "),_("h4",{attrs:{id:"什么是"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#什么是"}},[a._v("#")]),a._v(" 什么是？")]),a._v(" "),_("p",[_("a",{attrs:{href:"https://mp.weixin.qq.com/s?__biz=MzI2NDk1NTU4Ng==&mid=2247484646&idx=1&sn=5bee9e8350cfee93b43187287fe0b0fa&chksm=eaa5f74bddd27e5ddd05040c29114d3b6d43015161fc477a07f8254e702bb9c6d957b0288910&token=2135977015&lang=zh_CN#rd",target:"_blank",rel:"noopener noreferrer"}},[a._v("因果图"),_("OutboundLink")],1),a._v("，是一种用于输入与输入，输入与输出存在依赖与约束关系的被测对象。因果图是一种利用图解法分析输入的各种组合情况。")]),a._v(" "),_("p",[a._v("等价类和边界值分析法也是对输入条件进行测试分析，只是输入条件之间不存在关系或者约束 ，且必须相互独立（等价类的原则之一）")]),a._v(" "),_("h4",{attrs:{id:"图的关系"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#图的关系"}},[a._v("#")]),a._v(" 图的关系")]),a._v(" "),_("h5",{attrs:{id:"因果关系"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#因果关系"}},[a._v("#")]),a._v(" 因果关系")]),a._v(" "),_("ol",[_("li",[_("p",[a._v("恒等")]),a._v(" "),_("p",[a._v("1-1，0-0")]),a._v(" "),_("p",[a._v("商场购物，买单才会有打印凭条，没有买单就不会打印")])]),a._v(" "),_("li",[_("p",[a._v("非~")]),a._v(" "),_("p",[a._v("1-0，0-1")]),a._v(" "),_("p",[a._v("手机逛淘宝，有网络不提示网络异常，没有网络则提示网络异常")])]),a._v(" "),_("li",[_("p",[a._v("或U")]),a._v(" "),_("p",[a._v("手机平板、电脑、电视都可以看视频")])]),a._v(" "),_("li",[_("p",[a._v("与^")]),a._v(" "),_("p",[a._v("手机要有电、网络、信号才能上网。没有则不能上网")])])]),a._v(" "),_("h5",{attrs:{id:"条件约束"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#条件约束"}},[a._v("#")]),a._v(" 条件约束")]),a._v(" "),_("ol",[_("li",[_("p",[a._v("异或/ 互斥")]),a._v(" "),_("p",[a._v("至多一个为1")]),a._v(" "),_("p",[a._v("赴约，只能选择步行、自行车、打车、坐地铁、开车中的一个，也可以都不选。")])]),a._v(" "),_("li",[_("p",[a._v("或")]),a._v(" "),_("p",[a._v("至少一个必须是1")]),a._v(" "),_("p",[a._v("手机平板、电脑、电视都可以看视频，但必须选择至少一个")])]),a._v(" "),_("li",[_("p",[a._v("唯一")]),a._v(" "),_("p",[a._v("有且只有一个1")]),a._v(" "),_("p",[a._v("坐地铁，必须从交通卡、微信支付、临时票选择其中一个")])]),a._v(" "),_("li",[_("p",[a._v("要求")]),a._v(" "),_("p",[a._v("出手投篮，必须拥有球权，如果没有出手投篮，无法确定是否拥有球权")])]),a._v(" "),_("li",[_("p",[a._v("强制")])])]),a._v(" "),_("p",[a._v("如果在公司，必定不在家，但如果不在公司，未必在家。")]),a._v(" "),_("h4",{attrs:{id:"分析步骤"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#分析步骤"}},[a._v("#")]),a._v(" 分析步骤")]),a._v(" "),_("h4",{attrs:{id:"实例-2"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#实例-2"}},[a._v("#")]),a._v(" 实例")]),a._v(" "),_("h2",{attrs:{id:"mock-使用"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#mock-使用"}},[a._v("#")]),a._v(" Mock 使用")]),a._v(" "),_("p",[a._v("数据需要隔离，参考 "),_("a",{attrs:{href:"https://developer.aliyun.com/article/778487",target:"_blank",rel:"noopener noreferrer"}},[a._v("Golang 单元测试：有哪些误区和实践？"),_("OutboundLink")],1),a._v(" 所以使用 "),_("code",[a._v("sqlmock")]),a._v(" 来实现，比如 "),_("a",{attrs:{href:"https://github.com/DATA-DOG/go-sqlmock/tree/master/examples/blog",target:"_blank",rel:"noopener noreferrer"}},[a._v("sqlmock-blog-demo"),_("OutboundLink")],1)]),a._v(" "),_("p",[a._v("适合使用 mock/stub 场景是")]),a._v(" "),_("ul",[_("li",[a._v("数据库连接")]),a._v(" "),_("li",[a._v("文件I/O")])]),a._v(" "),_("h2",{attrs:{id:"注意事项"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#注意事项"}},[a._v("#")]),a._v(" 注意事项")]),a._v(" "),_("ul",[_("li",[a._v("尽量不对 "),_("code",[a._v("http")]),a._v(" 和 "),_("code",[a._v("net")]),a._v("库使用 mock，这样可以覆盖较为真实的场景")])]),a._v(" "),_("h2",{attrs:{id:"实践参考"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#实践参考"}},[a._v("#")]),a._v(" 实践参考")]),a._v(" "),_("p",[a._v("参考 "),_("a",{attrs:{href:"https://github.com/apache/dubbo-go",target:"_blank",rel:"noopener noreferrer"}},[a._v("dubbo-go"),_("OutboundLink")],1),a._v(" 的单元测试写法")]),a._v(" "),_("h2",{attrs:{id:"避雷专区"}},[_("a",{staticClass:"header-anchor",attrs:{href:"#避雷专区"}},[a._v("#")]),a._v(" 避雷专区")]),a._v(" "),_("p",[a._v("使用 "),_("code",[a._v("sqlmock")]),a._v(" 时，遇到的 "),_("a",{attrs:{href:"https://github.com/DATA-DOG/go-sqlmock/issues/210",target:"_blank",rel:"noopener noreferrer"}},[a._v("事务导致异常的ISSUE"),_("OutboundLink")],1),a._v(" 的问题")]),a._v(" "),_("ul",[_("li",[a._v("因为在调用过程中，会发生调用栈的问题")])]),a._v(" "),_("div",{staticClass:"language- line-numbers-mode"},[_("pre",{pre:!0,attrs:{class:"language-text"}},[_("code",[a._v("call to Query 'SQL' with args, was not expected, next expectation is: ExpectedBegin => expecting database transaction Begin\n")])]),a._v(" "),_("div",{staticClass:"line-numbers-wrapper"},[_("span",{staticClass:"line-number"},[a._v("1")]),_("br")])])])}),[],!1,null,null,null);t.default=r.exports}}]);