(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{575:function(e,a,s){"use strict";s.r(a);var r=s(1),t=Object(r.a)({},(function(){var e=this,a=e.$createElement,s=e._self._c||a;return s("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[s("h1",{attrs:{id:"docker-教程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#docker-教程"}},[e._v("#")]),e._v(" Docker 教程")]),e._v(" "),s("p",[e._v("请参考教程 "),s("a",{attrs:{href:"https://yeasy.gitbook.io/docker_practice/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker 从入门到实践"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("以对 "),s("code",[e._v("zookeeper")]),e._v("进行使用为例")]),e._v(" "),s("h2",{attrs:{id:"调研"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#调研"}},[e._v("#")]),e._v(" 调研")]),e._v(" "),s("ul",[s("li",[e._v("VMware")]),e._v(" "),s("li",[e._v("KVM")]),e._v(" "),s("li",[e._v("Docker")])]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.docker.com/engine/security/trust/trust_sandbox/",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker - trust_sandbox"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://unit42.paloaltonetworks.com/making-containers-more-isolated-an-overview-of-sandboxed-container-technologies/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Making Containers More Isolated: An Overview of Sandboxed Container Technologies"),s("OutboundLink")],1)]),e._v(" "),s("h2",{attrs:{id:"参考"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),s("p",[e._v("参考了以下教程")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"http://www.ruanyifeng.com/blog/2018/02/docker-tutorial.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("阮一峰 - Docker 入门教程"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://bitfieldconsulting.com/golang/docker-image",target:"_blank",rel:"noopener noreferrer"}},[e._v("Building a Golang Docker image"),s("OutboundLink")],1)])]),e._v(" "),s("h2",{attrs:{id:"概念"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#概念"}},[e._v("#")]),e._v(" 概念")]),e._v(" "),s("h3",{attrs:{id:"镜像-image"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#镜像-image"}},[e._v("#")]),e._v(" 镜像（Image）")]),e._v(" "),s("p",[e._v("特殊的文件系统，程序、库、资源、配置文件")]),e._v(" "),s("h3",{attrs:{id:"容器-container"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#容器-container"}},[e._v("#")]),e._v(" 容器（Container）")]),e._v(" "),s("h3",{attrs:{id:"仓库-repository"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#仓库-repository"}},[e._v("#")]),e._v(" 仓库（Repository）")]),e._v(" "),s("h2",{attrs:{id:"安装环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装环境"}},[e._v("#")]),e._v(" 安装环境")]),e._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://docs.docker.com/docker-for-mac/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Mac"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://docs.docker.com/docker-for-windows/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Windows"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/ubuntu/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ubuntu"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/debian/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Debian"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/centos/",target:"_blank",rel:"noopener noreferrer"}},[e._v("CentOS"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/fedora/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Fedora"),s("OutboundLink")],1)]),e._v(" "),s("li",[s("a",{attrs:{href:"https://docs.docker.com/install/linux/docker-ce/binaries/",target:"_blank",rel:"noopener noreferrer"}},[e._v("其他 Linux 发行版"),s("OutboundLink")],1)])]),e._v(" "),s("p",[e._v("把用户加入 Docker 用户组。")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("sudo groupadd docker          #添加docker用户组\nsudo gpasswd -a $XXX docker   #检测当前用户是否已经在docker用户组中，其中XXX为用户名，例如我的，liangll\nsudo gpasswd -a $USER docker  #将当前用户添加至docker用户组\nnewgrp docker                 #更新docker用户组\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br")])]),s("p",[e._v("查看状态")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("# 启动\nsystemctl start docker\n\n# 列出本机的所有 image 文件\ndocker image ls\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("h2",{attrs:{id:"基础"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#基础"}},[e._v("#")]),e._v(" 基础")]),e._v(" "),s("h4",{attrs:{id:"搜索镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#搜索镜像"}},[e._v("#")]),e._v(" 搜索镜像")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("docker search zookeeper\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h4",{attrs:{id:"安装镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#安装镜像"}},[e._v("#")]),e._v(" 安装镜像")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("docker pull zookeeper\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h4",{attrs:{id:"将镜像放到容器中"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#将镜像放到容器中"}},[e._v("#")]),e._v(" 将镜像放到容器中")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 下面可以一整行的内容")]),e._v("\ndocker run --privileged"),s("span",{pre:!0,attrs:{class:"token operator"}},[e._v("=")]),e._v("true -d --name zookeeper --publish "),s("span",{pre:!0,attrs:{class:"token number"}},[e._v("2181")]),e._v(":2181 -d zookeeper:latest\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h4",{attrs:{id:"查看镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看镜像"}},[e._v("#")]),e._v(" 查看镜像")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("ps")]),e._v("\n-a "),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 查看所有的容器")]),e._v("\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h4",{attrs:{id:"启动和停止容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#启动和停止容器"}},[e._v("#")]),e._v(" 启动和停止容器")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("docker start name\ndocker stop name\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h4",{attrs:{id:"进入-zookeeper的运行环境"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入-zookeeper的运行环境"}},[e._v("#")]),e._v(" 进入 "),s("code",[e._v("zookeeper")]),e._v("的运行环境")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker exec -it 45850daa6b9b bash\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h4",{attrs:{id:"执行应用的命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#执行应用的命令"}},[e._v("#")]),e._v(" 执行应用的命令")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://www.cnblogs.com/sherrykid/p/5813148.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("ZooKeeper客户端 zkCli.sh 节点的增删改查"),s("OutboundLink")],1)]),e._v(" "),s("p",[e._v("下面是使用相应的命令：")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 运行 zkCli")]),e._v("\n./bin/zkCli.sh\n\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[e._v("# 重启")]),e._v("\n./bin/zkServer.sh restart\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br")])]),s("h3",{attrs:{id:"查看日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#查看日志"}},[e._v("#")]),e._v(" 查看日志")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker logs --tail 50 --follow --timestamps xxx\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h3",{attrs:{id:"进入容器"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进入容器"}},[e._v("#")]),e._v(" 进入容器")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker exec -it gitlab-runner /bin/bash\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h2",{attrs:{id:"进阶"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#进阶"}},[e._v("#")]),e._v(" 进阶")]),e._v(" "),s("h4",{attrs:{id:"重命名"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#重命名"}},[e._v("#")]),e._v(" 重命名")]),e._v(" "),s("div",{staticClass:"language-shell line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-shell"}},[s("code",[e._v("docker "),s("span",{pre:!0,attrs:{class:"token function"}},[e._v("rename")]),e._v(" old_name new_name\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h4",{attrs:{id:"删除镜像"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#删除镜像"}},[e._v("#")]),e._v(" 删除镜像")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker rm zookeeper\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h4",{attrs:{id:"构建"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#构建"}},[e._v("#")]),e._v(" 构建")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker build\ndocker-compose\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br")])]),s("h4",{attrs:{id:"打标签"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#打标签"}},[e._v("#")]),e._v(" 打标签")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker tag httpd:test fedora/httpd:version1.0.test\n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br")])]),s("h4",{attrs:{id:"推送"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#推送"}},[e._v("#")]),e._v(" 推送")]),e._v(" "),s("div",{staticClass:"language- line-numbers-mode"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[e._v("docker tag articleapp_app azimshaik/articleapp_app\n\ndocker push azimshaik/articleapp_app\n\n\ndocker tag lfcp_srv_local_sms-service 192.168.50.108:8686/library/lfcp_srv_local_sms-service:latest\n\ndocker  push 192.168.50.108:8686/library/lfcp_srv_local_sms-service  \n")])]),e._v(" "),s("div",{staticClass:"line-numbers-wrapper"},[s("span",{staticClass:"line-number"},[e._v("1")]),s("br"),s("span",{staticClass:"line-number"},[e._v("2")]),s("br"),s("span",{staticClass:"line-number"},[e._v("3")]),s("br"),s("span",{staticClass:"line-number"},[e._v("4")]),s("br"),s("span",{staticClass:"line-number"},[e._v("5")]),s("br"),s("span",{staticClass:"line-number"},[e._v("6")]),s("br"),s("span",{staticClass:"line-number"},[e._v("7")]),s("br"),s("span",{staticClass:"line-number"},[e._v("8")]),s("br")])]),s("h2",{attrs:{id:"参考-2"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#参考-2"}},[e._v("#")]),e._v(" 参考")]),e._v(" "),s("p",[s("a",{attrs:{href:"https://docs.docker.com/engine/reference/commandline/tag/",target:"_blank",rel:"noopener noreferrer"}},[e._v("docker tag"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://note.qidong.name/2017/06/26/docker-clean/#:~:text=%E6%95%B0%E6%8D%AE%E5%8D%B7%E7%9A%84%E7%9B%B8%E5%85%B3%E5%91%BD%E4%BB%A4,%E5%8F%AF%E5%88%A0%E9%99%A4%E6%89%80%E6%9C%89%E6%97%A0%E7%94%A8%E5%8D%B7%E3%80%82",target:"_blank",rel:"noopener noreferrer"}},[e._v("清理Docker的container，image与volume"),s("OutboundLink")],1)]),e._v(" "),s("p",[s("a",{attrs:{href:"https://colobu.com/2018/05/15/Stop-and-remove-all-docker-containers-and-images/",target:"_blank",rel:"noopener noreferrer"}},[e._v("停止、删除所有的docker容器和镜像"),s("OutboundLink")],1)])])}),[],!1,null,null,null);a.default=t.exports}}]);